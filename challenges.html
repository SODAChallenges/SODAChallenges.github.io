---
title: 城市问题
layout: default
permalink: /challenges/
---
{% include breadcrumbs.html %}

  
<div class="btn-icon-pg" style="padding-left: 8%; padding-right: 7%;">
  <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #EEE;">
    <form>
    <div class="form-group">
    <div style="display: inline-block; min-width: 350px;">
      <label style="font-size: 16px; padding-top: 5px;">筛选版块: </label>
      <select id="challenge-select" onchange="selectChange()" class="form-control" style="width: 20%; min-width: 180px; display: inline-block; margin-left: 2%;">
        <option value="all">不限</option>
        <option value="future-business">未来商业</option>
        <option value="smart-traffic">智慧交通</option>
        <option value="green-development">绿色发展</option>
        <option value="medical-health">医疗健康</option>
      </select>
    </div>

    <div style="display: inline-block; min-width: 350px;">
      <label style="font-size: 16px; margin-left: 5%; padding-top: 5px;">筛选时间: </label>
      <select id="year-select" onchange="selectChange()" class="form-control" style="width: 20%; min-width: 180px; display: inline-block; margin-left: 2%;">
        <option value="all">不限</option>
        <option value="2017">2017</option>
        <option value="2016">2016</option>
        <option value="2015">2015</option>
        <option value="2014">2014</option>
      </select>
      </div>
    </div>
  </form>
  </div>

  <div id="challenges-list">
    <ul>
    {% for challenge in site.challenges %}
    <li style="margin: 15px 5px;">
      <div class="challenge-box" style="overflow: visible;">
        <a href="{{ site.baseurl }}{{ challenge.url }}" style="text-decoration: none;">
          <div class="challenge-box-top-half {{ challenge.title | append:'-top-half' }} ">
            <h5 class="challenge-card-title">{{ challenge.name }} </h5>
            <!--div class="btn-icon-pg" style="width: 205px; display: inline-block; margin-top: 0px;">
              <ul>
                {% for org-logo in challenge.challenge_org_logo %}
                <li style="min-width: 30px; margin: 2px;"><img src="{{ site.baseurl}}{{ org-logo }}" width="30"></li>
                {% endfor %}
              </ul>
            </div>
            <div style="width: 70px; display: inline-block; margin-top: 0px;">
              <img src="{{ site.baseurl}}{{ challenge.challenge_category_logo }}" width="65" style="margin-top: 0px;">
            </div-->
          </div>
          <div class="challenge-box-bot-half {{ challenge.title | append:'-bot-half' }}">
            <h6 class="challenge-card-description">{{ challenge.prize | append: " 奖金" | prepend: "¥"}}</h6>
            <p class="challenge-card-description">{{ challenge.description | truncate: 40 }}</p>
          </div>
        </a>
      </div>
    </li>
    {% endfor %}
    </ul>
  </div>
</div>

 <script type="text/javascript">
    function filter_match_chlg(sel_filter, para){
      if (sel_filter == "all" || para == sel_filter) {
        return true;
      }
      return false;
    }

    function selectChange(){
      var sel_challenge = document.getElementById("challenge-select");
      var opt_challenge_value = sel_challenge.options[sel_challenge.selectedIndex].value;

      var sel_year = document.getElementById("year-select");
      var opt_year_value = sel_year.options[sel_year.selectedIndex].value;      

      $("#challenges-list").html("");

      $.getJSON(`${settings.BASE_URL}/challenges.json`, function(data){
        var content = "<ul>";
        $.each(data, function(i, item){
          var overall_box = "<li style=\"margin: 15px 5px;\"><div class=\"challenge-box\" style=\"overflow: visible;\"><a href=\"" + item.url + "\" style=\"text-decoration: none;\">";
          var up_box = "<div class=\"challenge-box-top-half " + item.title + "-top-half\"><h5 class=\"challenge-card-title\">" + item.name + " </h5></div>";
          var down_box = "<div class=\"challenge-box-bot-half " + item.title + "-bot-half\"><h6 class=\"challenge-card-description\"> ¥" + item.prize + "奖金</h6><p class=\"challenge-card-description\">" + item.description.substring(0,30) + "</p></div></a></div></li>";
          if (filter_match_chlg(opt_challenge_value, item.title) && filter_match_chlg(opt_year_value, item.year)) {
            content = content + overall_box + up_box + down_box;
          }
        });
        content += "</ul>";
        $("#challenges-list").append(content);
      });
    }

  </script>